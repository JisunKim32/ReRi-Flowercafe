@use "common";
@use "variables" as var;
@use "responsive" as resp;
@use "components";

// === Header ===
header {
   width: 100%;
   padding: 0.625rem;
   margin: auto;
   position: fixed;
   text-align: center;
   align-items: center;
   z-index: 999;
   top: 0;
   transition: top 0.4s ease-in-out;

   &.header-bg {
      background: var.$color-white;
      border-bottom: 1px solid rgba(var.$color-primary, 0.1);
   }
   &.hidden {
      top: -15%;
      transition: 0.3s;
      z-index: 1000;
   }

   .container {
      width: 100%;
      margin: 0 auto;
      .gnb {
         align-items: center;
         flex-direction: row;
         .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
         }
      }
   }

   .nav-logo {
      a {
         text-decoration: none;
         font-family: var.$font-title;
         font-size: map-get(map-get(var.$font-sizes, default), h4);
         letter-spacing: 0.1rem;
         text-align: center;
         color: var.$color-primary;
         font-weight: var.$font-weight-medium;
         display: flex;
         gap: 0 10px;
      }
   }

   .nav-list {
      width: 640px;
      .nav {
         width: 100%;
         display: flex;
         justify-content: space-between;
         li {
            width: 160px;
            position: relative;
            a {
               text-decoration: none;
               text-align: center;
               color: var.$color-primary;
               font-size: map-get(map-get(var.$font-sizes, default), h7);
               font-weight: var.$font-weight-medium;
               &:hover {
                  color: darken(var.$color-primary, 10%);
               }
            }
            .sub-menu {
               display: none !important; // 풀와이드용으로 js에서만 사용
            }
         }
         li:first-child a {
            font-family: var.$font-title;
            font-size: map-get(map-get(var.$font-sizes, default), h6);
            letter-spacing: 0.11rem;
         }
         .nav > li:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 20px;
            width: 120px;
            height: 2px;
            background-color: rgba(var.$color-primary, 0.3);
            border-radius: 300px;
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease-in-out;
         }
         .nav > li:hover:after {
            transform: scaleX(1);
         }
         @include resp.respond-to(lg) {
            display: none;
         }
      }
   }

   .hamburger {
      width: 24px;
      background: transparent;
      border: none;
      display: none;
      @include resp.respond-to(lg) {
         display: block;
      }
      .hamburger-box {
         width: 100%;
         display: flex;
         flex-direction: column;
         gap: 5px 0;
         .hamburger-inner {
            width: 100%;
            height: 1px;
            border: 1px solid var.$color-primary;
            border-radius: 300px;
            background: var.$color-primary;
         }
      }
   }
   .hamburger:hover { opacity: 0.7; }

   .megamenu {
      // ...기존 네 스타일 그대로...
   }
}

// === 풀와이드 드롭다운 영역 ===
.global-submenu {
   position: fixed;
   left: 0;
   top: 80px; // header 높이에 맞게 조정
   width: 100vw;
   min-height: 110px;
   background: #fff;
   z-index: 1001;
   box-shadow: 0 6px 32px rgba(0,0,0,0.08);
   border-radius: 0 0 32px 32px;
   padding: 32px 0 24px 0;
   display: none;
   opacity: 0;
   animation: none;
   &.show {
      display: block;
      animation: slideDown 0.32s cubic-bezier(0.4,0,0.2,1);
      opacity: 1;
   }
   ul {
      display: flex;
      justify-content: center;
      gap: 48px;
      margin: 0;
      padding: 0;
      list-style: none;
      li {
         a {
            font-size: 1.15rem;
            font-weight: 600;
            color: var.$color-primary;
            text-decoration: none;
            padding: 0 18px;
            transition: color 0.15s;
            &:hover { color: #0de361; }
         }
      }
   }
}

@keyframes slideDown {
   0% { opacity: 0; transform: translateY(-20px);}
   100% { opacity: 1; transform: translateY(0);}
}
